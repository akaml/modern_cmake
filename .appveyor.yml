version: 1.0.{build}
image:
  - Visual Studio 2017
environment:
  PYTHON: "C:\\Python27"
  PYTHON_VERSION: "2.7.13"
  PYTHON_ARCH: "32"
  matrix:
    - build_type: android_armeabi
    - build_type: windows32


platform:
  - x86

configuration:
  - Release

install:
  ############################################################################
  # All external dependencies are installed in C:\projects\deps
  ############################################################################
  - mkdir C:\projects\deps
  - cd C:\projects\deps

  ############################################################################
  # Install Ninja
  ############################################################################
  - set NINJA_URL="https://github.com/ninja-build/ninja/releases/download/v1.6.0/ninja-win.zip"
  - appveyor DownloadFile %NINJA_URL% -FileName ninja.zip
  - 7z x ninja.zip -oC:\projects\deps\ninja > nul
  - set PATH=C:\projects\deps\ninja;%PATH%
  - ninja --version

before_build:
  - ps: ./tools/appveyor-scripts/before-build.ps1

build_script:
  - ps: ./tools/appveyor-scripts/build.ps1


clone_depth: 1

test: off
